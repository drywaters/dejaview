@import "tailwindcss";
@config "../tailwind.config.js";
@source "../internal/ui";

/* =============================================================================
   DEJAVIEW - MODERN CINEPHILE AESTHETIC
   A refined, contemporary dark interface with tasteful vintage cinema touches.
   Clean typography, subtle accents, minimal ornamentation.
   ============================================================================= */

@layer base {
	:root {
		/* Primary Palette - Refined Cinema */
		--color-theater-black: #09090b;
		--color-surface: #18181b;
		--color-surface-raised: #27272a;
		--color-curtain-red: #991b1b;
		--color-curtain-dark: #7f1d1d;
		--color-gold: #d97706;
		--color-gold-muted: #b45309;
		--color-cream: #fafaf9;
		--color-cream-muted: #a8a29e;

		/* Status Colors */
		--color-success: #22c55e;
		--color-error: #ef4444;
		--color-warning: #f59e0b;

		/* Rating Colors */
		--color-rating-low: #ef4444;
		--color-rating-mid: #f59e0b;
		--color-rating-high: #22c55e;

		/* Typography */
		--font-display: 'Outfit', system-ui, sans-serif;
		--font-body: 'DM Sans', system-ui, sans-serif;
		--font-mono: 'JetBrains Mono', monospace;

		/* Shadows */
		--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
		--shadow-md: 0 4px 6px rgba(0, 0, 0, 0.3);
		--shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.3);
		--shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.4);
	}

	* {
		font-family: var(--font-body);
	}

	body {
		background-color: var(--color-theater-black);
		color: var(--color-cream);
		min-height: 100vh;
	}

	/* Subtle scrollbar */
	::-webkit-scrollbar {
		width: 8px;
	}

	::-webkit-scrollbar-track {
		background: var(--color-theater-black);
	}

	::-webkit-scrollbar-thumb {
		background: var(--color-surface-raised);
		border-radius: 4px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: var(--color-gold-muted);
	}
}

/* =============================================================================
   COMPONENTS
   ============================================================================= */

@layer components {
	/* SVG Icon System */
	.icon {
		display: inline-block;
		vertical-align: middle;
		width: 1em;
		height: 1em;
		flex-shrink: 0;
	}

	/* Typography */
	.font-display {
		font-family: var(--font-display);
	}

	.font-mono {
		font-family: var(--font-mono);
	}

	.text-gold {
		color: var(--color-gold);
	}

	.text-marquee {
		font-family: var(--font-display);
		text-transform: uppercase;
		letter-spacing: 0.1em;
		color: var(--color-cream);
		font-weight: 600;
	}

	.text-cream-ticket {
		color: var(--color-cream-muted);
	}

	/* ========== HEADER ========== */
	.header-bar {
		background: var(--color-surface);
		border-bottom: 1px solid var(--color-surface-raised);
	}

	/* ========== INPUT FIELDS ========== */
	.input-field {
		background: var(--color-surface);
		border: 1px solid var(--color-surface-raised);
		border-radius: 8px;
		padding: 0.75rem 1rem;
		font-size: 1rem;
		color: var(--color-cream);
		transition: all 0.15s ease;
	}

	.input-field:focus {
		outline: none;
		border-color: var(--color-gold);
		background: var(--color-surface-raised);
	}

	.input-field::placeholder {
		color: var(--color-cream-muted);
	}

	/* ========== BUTTONS ========== */
	.btn-primary {
		background: var(--color-curtain-red);
		color: var(--color-cream);
		font-family: var(--font-display);
		font-weight: 500;
		letter-spacing: 0.02em;
		padding: 0.75rem 1.5rem;
		border: none;
		border-radius: 8px;
		transition: all 0.15s ease;
		text-transform: uppercase;
		font-size: 0.875rem;
	}

	.btn-primary:hover {
		background: var(--color-curtain-dark);
		transform: translateY(-1px);
	}

	.btn-primary:active {
		transform: translateY(0);
	}

	.btn-secondary {
		background: transparent;
		color: var(--color-cream-muted);
		border: 1px solid var(--color-surface-raised);
		padding: 0.5rem 1rem;
		border-radius: 6px;
		font-size: 0.875rem;
		font-family: var(--font-display);
		font-weight: 500;
		letter-spacing: 0.02em;
		text-transform: uppercase;
		transition: all 0.15s ease;
	}

	.btn-secondary:hover {
		background: var(--color-surface-raised);
		color: var(--color-cream);
		border-color: var(--color-gold-muted);
	}

	.btn-icon {
		background: var(--color-surface);
		border: 1px solid var(--color-surface-raised);
		color: var(--color-cream-muted);
		padding: 0.5rem;
		border-radius: 6px;
		transition: all 0.15s ease;
	}

	.btn-icon:hover {
		background: var(--color-surface-raised);
		color: var(--color-cream);
	}

	/* ========== MOVIE POSTER CARD ========== */
	.poster-card {
		position: relative;
		background: var(--color-surface);
		border: 1px solid var(--color-surface-raised);
		border-radius: 12px;
		overflow: hidden;
		transition: all 0.2s ease;
		box-shadow: var(--shadow-md);
	}

	.poster-card:hover {
		transform: translateY(-4px);
		border-color: var(--color-gold-muted);
		box-shadow: var(--shadow-xl);
	}

	.poster-image {
		width: 100%;
		aspect-ratio: 2/3;
		object-fit: cover;
		transition: transform 0.3s ease;
	}

	.poster-card:hover .poster-image {
		transform: scale(1.02);
	}

	.poster-overlay {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		padding: 1rem;
		background: linear-gradient(0deg,
			rgba(9, 9, 11, 0.95) 0%,
			rgba(9, 9, 11, 0.6) 60%,
			transparent 100%);
	}

	.poster-placeholder {
		width: 100%;
		aspect-ratio: 2/3;
		background: var(--color-surface-raised);
		display: flex;
		align-items: center;
		justify-content: center;
		color: var(--color-cream-muted);
	}


	/* Picker badge - shows who picked the movie */
	.picker-badge {
		position: absolute;
		top: 0.5rem;
		right: 0.5rem;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		min-width: 2rem;
		height: 2rem;
		padding: 0 0.5rem;
		border-radius: 6px;
		font-family: var(--font-display);
		font-weight: 600;
		font-size: 0.875rem;
		background: rgba(9, 9, 11, 0.85);
		border: 1px solid var(--color-gold);
		color: var(--color-cream);
		z-index: 10;
	}

	/* ========== RATING COMPONENTS ========== */
	.rating-badge {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		min-width: 2rem;
		height: 2rem;
		padding: 0 0.5rem;
		border-radius: 6px;
		font-family: var(--font-display);
		font-weight: 600;
		font-size: 0.875rem;
		border: 1px solid;
	}

	.rating-low {
		background: rgba(239, 68, 68, 0.15);
		border-color: var(--color-rating-low);
		color: var(--color-rating-low);
	}

	.rating-mid {
		background: rgba(245, 158, 11, 0.15);
		border-color: var(--color-rating-mid);
		color: var(--color-rating-mid);
	}

	.rating-high {
		background: rgba(34, 197, 94, 0.15);
		border-color: var(--color-rating-high);
		color: var(--color-rating-high);
	}

	.rating-empty {
		background: var(--color-surface);
		border-color: var(--color-surface-raised);
		color: var(--color-cream-muted);
	}

	/* Rating input field */
	.rating-input {
		width: 4rem;
		text-align: center;
		background: var(--color-surface);
		border: 1px solid var(--color-surface-raised);
		border-radius: 6px;
		padding: 0.5rem;
		font-family: var(--font-display);
		font-weight: 600;
		color: var(--color-cream);
		color-scheme: dark;
		transition: all 0.15s ease;
	}

	.rating-input::placeholder {
		color: var(--color-cream-muted);
		opacity: 1;
	}

	.rating-input:focus {
		outline: none;
		border-color: var(--color-gold);
	}

	/* ========== CARDS & SECTIONS ========== */
	.card {
		background: var(--color-surface);
		border: 1px solid var(--color-surface-raised);
		border-radius: 12px;
		box-shadow: var(--shadow-md);
	}

	.card-header {
		border-bottom: 1px solid var(--color-surface-raised);
		padding: 1rem 1.5rem;
	}

	.group-section {
		border-left: 2px solid var(--color-gold-muted);
		padding-left: 1.5rem;
	}

	.group-title {
		font-family: var(--font-display);
		font-size: 1.25rem;
		font-weight: 600;
		color: var(--color-cream);
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}

	/* ========== SEARCH RESULTS ========== */
	.search-result {
		display: flex;
		gap: 1rem;
		padding: 1rem;
		background: var(--color-surface);
		border: 1px solid var(--color-surface-raised);
		border-radius: 8px;
		transition: all 0.15s ease;
	}

	.search-result:hover {
		border-color: var(--color-gold-muted);
		background: var(--color-surface-raised);
	}

	.search-poster {
		width: 80px;
		height: 120px;
		object-fit: cover;
		border-radius: 6px;
		background: var(--color-surface-raised);
	}

	/* ========== MOVIE DETAIL PAGE ========== */
	.detail-poster {
		border: 1px solid var(--color-surface-raised);
		border-radius: 12px;
		box-shadow: var(--shadow-xl);
	}

	.detail-title {
		font-family: var(--font-display);
		font-size: 2.5rem;
		font-weight: 700;
		color: var(--color-cream);
		line-height: 1.2;
	}

	.detail-meta {
		color: var(--color-cream-muted);
		font-size: 1rem;
	}

	.synopsis-text {
		font-size: 1.125rem;
		line-height: 1.8;
		color: var(--color-cream-muted);
	}

	/* ========== DIVIDERS ========== */
	.divider {
		height: 1px;
		background: var(--color-surface-raised);
	}

	.divider-ornate {
		display: flex;
		align-items: center;
		gap: 1rem;
		color: var(--color-cream-muted);
	}

	.divider-ornate::before,
	.divider-ornate::after {
		content: '';
		flex: 1;
		height: 1px;
		background: var(--color-surface-raised);
	}

	/* ========== TOAST NOTIFICATIONS ========== */
	.toast {
		padding: 1rem 1.5rem;
		border-radius: 8px;
		box-shadow: var(--shadow-lg);
		font-weight: 500;
	}

	.toast-success {
		background: var(--color-success);
		color: white;
	}

	.toast-error {
		background: var(--color-error);
		color: white;
	}

	.toast-enter {
		animation: slideIn 0.3s ease forwards;
	}

	.toast-exit {
		animation: slideOut 0.3s ease forwards;
	}

	/* ========== LOGIN PAGE ========== */
	.login-card {
		background: var(--color-surface);
		border: 1px solid var(--color-surface-raised);
		border-radius: 16px;
		box-shadow: var(--shadow-xl);
	}

	/* ========== HTMX STATES ========== */
	.htmx-request .htmx-indicator {
		display: inline-block;
	}

	.htmx-indicator {
		display: none;
	}

	.htmx-request.htmx-indicator {
		display: inline-block;
	}

	/* ========== DRAG AND DROP ========== */
	.draggable-item {
		position: relative;
		cursor: grab;
		transition: transform 0.15s ease, box-shadow 0.15s ease;
	}

	.draggable-item:active {
		cursor: grabbing;
	}

	.draggable-item.dragging {
		opacity: 0.5;
		transform: scale(0.98);
	}

	.draggable-item.dragging .drag-handle {
		opacity: 1;
	}

	.drag-handle {
		position: absolute;
		top: 0.5rem;
		left: 0.5rem;
		z-index: 10;
		background: rgba(9, 9, 11, 0.8);
		color: var(--color-cream-muted);
		padding: 0.375rem;
		border-radius: 4px;
		cursor: grab;
		opacity: 0;
		transition: opacity 0.15s ease, color 0.15s ease;
	}

	.draggable-item:hover .drag-handle {
		opacity: 1;
	}

	.drag-handle:hover {
		color: var(--color-gold);
	}

	.drag-handle:active {
		cursor: grabbing;
	}

	.drag-placeholder {
		background: var(--color-surface-raised);
		border: 2px dashed var(--color-gold-muted);
		border-radius: 12px;
		opacity: 0.5;
	}

	.sortable-grid {
		min-height: 100px;
	}

	/* ========== STATS PAGE ========== */
	.stats-section {
		background: var(--color-surface);
		border: 1px solid var(--color-surface-raised);
		border-radius: 12px;
		padding: 1.5rem;
		margin-bottom: 1.5rem;
		box-shadow: var(--shadow-md);
	}

	.stats-section-title {
		font-family: var(--font-display);
		color: var(--color-gold);
		font-size: 1.25rem;
		margin-bottom: 1rem;
		display: flex;
		align-items: center;
		gap: 0.5rem;
	}

	/* Advantage Banner */
	.advantage-banner {
		background: linear-gradient(135deg, var(--color-curtain-dark), var(--color-curtain-red));
		border-radius: 12px;
		padding: 1.5rem;
		display: flex;
		align-items: center;
		gap: 1.5rem;
		box-shadow: var(--shadow-lg);
	}

	.advantage-badge {
		width: 5rem;
		height: 5rem;
		border-radius: 50%;
		background: var(--color-gold);
		color: var(--color-theater-black);
		display: flex;
		align-items: center;
		justify-content: center;
		font-family: var(--font-display);
		font-size: 2rem;
		font-weight: 700;
		box-shadow: 0 0 20px rgba(217, 119, 6, 0.4);
		flex-shrink: 0;
	}

	/* Award Cards */
	.award-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
		gap: 1rem;
	}

	.award-card {
		background: var(--color-surface-raised);
		border: 1px solid var(--color-surface-raised);
		border-radius: 12px;
		padding: 1.25rem 1rem;
		text-align: center;
		transition: all 0.2s ease;
	}

	.award-icon {
		font-size: 2.5rem;
		margin-bottom: 0.5rem;
	}

	.award-title {
		font-family: var(--font-display);
		color: var(--color-cream);
		font-size: 0.8rem;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		margin-bottom: 0.75rem;
		font-weight: 600;
	}

	.award-winner-badge {
		width: 4rem;
		height: 4rem;
		margin: 0 auto 0.5rem;
		border-radius: 50%;
		background: var(--color-gold);
		color: var(--color-theater-black);
		display: flex;
		align-items: center;
		justify-content: center;
		font-family: var(--font-display);
		font-size: 1.5rem;
		font-weight: 700;
	}

	.award-winner-badge.award-empty {
		background: var(--color-surface);
		border: 2px dashed var(--color-surface-raised);
		color: var(--color-cream-muted);
	}

	.award-winner-name {
		color: var(--color-cream);
		font-weight: 500;
		margin-bottom: 0.25rem;
	}

	.award-value {
		color: var(--color-gold);
		font-family: var(--font-mono);
		font-size: 0.875rem;
		margin-bottom: 0.5rem;
	}

	.award-description {
		color: var(--color-cream-muted);
		font-size: 0.75rem;
		font-style: italic;
	}

	/* Movie Award Cards */
	.movie-award-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
		gap: 1rem;
	}

	.movie-award-card {
		display: flex;
		gap: 1rem;
		background: var(--color-surface-raised);
		border: 1px solid var(--color-surface-raised);
		border-radius: 12px;
		padding: 1rem;
		transition: all 0.2s ease;
	}

	.movie-award-poster-container {
		flex-shrink: 0;
	}

	.movie-award-poster {
		width: 80px;
		height: 120px;
		border-radius: 8px;
		object-fit: cover;
	}

	.movie-award-poster-placeholder {
		background: var(--color-surface);
		display: flex;
		align-items: center;
		justify-content: center;
		color: var(--color-cream-muted);
	}

	.movie-award-content {
		flex: 1;
		display: flex;
		flex-direction: column;
	}

	.movie-award-badge {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		margin-bottom: 0.5rem;
	}

	.movie-award-title {
		font-family: var(--font-display);
		color: var(--color-cream);
		font-weight: 600;
		margin-bottom: 0.25rem;
	}

	.movie-award-description {
		color: var(--color-cream-muted);
		font-size: 0.875rem;
		font-style: italic;
		margin-bottom: 0.5rem;
	}

	.movie-award-value {
		color: var(--color-gold);
		font-family: var(--font-mono);
		font-size: 0.875rem;
		margin-top: auto;
	}

	/* Leaderboards */
	.leaderboard-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
		gap: 1.5rem;
	}

	.leaderboard {
		background: var(--color-surface-raised);
		border-radius: 12px;
		padding: 1rem;
	}

	.leaderboard-header {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		margin-bottom: 1rem;
		padding-bottom: 0.75rem;
		border-bottom: 1px solid var(--color-surface);
	}

	.leaderboard-items {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
	}

	.leaderboard-item {
		display: flex;
		align-items: center;
		gap: 0.75rem;
		padding: 0.5rem 0;
	}

	.leaderboard-rank {
		width: 1.5rem;
		text-align: center;
		font-weight: 600;
	}

	.leaderboard-person {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		min-width: 90px;
	}

	.leaderboard-initial {
		width: 2rem;
		height: 2rem;
		border-radius: 50%;
		background: var(--color-surface);
		border: 1px solid var(--color-gold-muted);
		display: flex;
		align-items: center;
		justify-content: center;
		font-family: var(--font-display);
		font-weight: 600;
		font-size: 0.875rem;
		color: var(--color-cream);
	}

	.leaderboard-name {
		color: var(--color-cream);
		font-size: 0.875rem;
	}

	.leaderboard-bar-container {
		flex: 1;
		height: 0.5rem;
		background: var(--color-surface);
		border-radius: 4px;
		overflow: hidden;
	}

	.leaderboard-bar {
		height: 100%;
		background: linear-gradient(90deg, var(--color-gold-muted), var(--color-gold));
		border-radius: 4px;
		transition: width 0.3s ease;
	}

	.leaderboard-value {
		font-family: var(--font-mono);
		color: var(--color-gold);
		font-size: 0.875rem;
		min-width: 3rem;
		text-align: right;
	}

	/* Quick Stats */
	.quick-stats-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
		gap: 1rem;
	}

	.quick-stat {
		background: var(--color-surface-raised);
		border-radius: 12px;
		padding: 1.25rem;
		text-align: center;
		transition: all 0.2s ease;
	}

	.quick-stat-icon {
		font-size: 2rem;
		margin-bottom: 0.5rem;
	}

	.quick-stat-value {
		font-family: var(--font-display);
		font-size: 1.75rem;
		font-weight: 700;
		color: var(--color-gold);
		margin-bottom: 0.25rem;
	}

	.quick-stat-label {
		color: var(--color-cream-muted);
		font-size: 0.75rem;
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}
}

/* =============================================================================
   UTILITIES
   ============================================================================= */

@layer utilities {
	.animate-spin {
		animation: spin 1s linear infinite;
	}

	.shadow-glow {
		box-shadow: 0 0 20px rgba(217, 119, 6, 0.2);
	}
}

/* =============================================================================
   KEYFRAMES
   ============================================================================= */

@keyframes slideIn {
	from {
		transform: translateX(100%);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes slideOut {
	from {
		transform: translateX(0);
		opacity: 1;
	}
	to {
		transform: translateX(100%);
		opacity: 0;
	}
}

@keyframes spin {
	to {
		transform: rotate(360deg);
	}
}
